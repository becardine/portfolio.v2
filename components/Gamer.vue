<template>
  <v-container>
    <v-card min-width="510px" min-height="475px" max-width="510px">
      <v-card-title>
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="7.23047"
            cy="7.43109"
            r="6.5"
            fill="url(#paint0_radial_64_1307)"
          />
          <path
            d="M4.46094 9.72577L9.99951 5.13638M4.46094 5.13638L9.99951 9.72577"
            stroke="#093430"
          />
          <defs>
            <radialGradient
              id="paint0_radial_64_1307"
              cx="0"
              cy="0"
              r="1"
              gradientUnits="userSpaceOnUse"
              gradientTransform="translate(7.23047 4.43109) rotate(90) scale(9.5)"
            >
              <stop offset="0.151042" stop-color="#164C51" />
              <stop offset="1" stop-color="#0D3A40" />
            </radialGradient>
          </defs>
        </svg>

        <v-spacer></v-spacer>
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="7.23047"
            cy="7.43109"
            r="6.5"
            fill="url(#paint0_radial_64_1307)"
          />
          <path
            d="M4.46094 9.72577L9.99951 5.13638M4.46094 5.13638L9.99951 9.72577"
            stroke="#093430"
          />
          <defs>
            <radialGradient
              id="paint0_radial_64_1307"
              cx="0"
              cy="0"
              r="1"
              gradientUnits="userSpaceOnUse"
              gradientTransform="translate(7.23047 4.43109) rotate(90) scale(9.5)"
            >
              <stop offset="0.151042" stop-color="#164C51" />
              <stop offset="1" stop-color="#0D3A40" />
            </radialGradient>
          </defs>
        </svg>
      </v-card-title>
      <v-card-text class="mt-1">
        <v-row dense>
          <v-col cols="7" class="game mr-5">
            <template v-for="line in lines">
              <div
                v-for="column in columns"
                :key="column.id"
                :style="{
                  width: size + 'px',
                  height: size + 'px',
                  position: 'absolute',
                  top: line * size + 'px',
                  left: column * size + 'px',
                }"
              ></div>
            </template>
            <span v-if="snaker">
              <div
                v-for="block in snaker"
                :key="block.id"
                :style="{
                  width: size + 'px',
                  height: size + 'px',
                  background: '#43D9AD',
                  position: 'absolute',
                  top: block.y * size + 'px',
                  left: block.x * size + 'px',
                }"
              ></div>
            </span>
            <div
              v-if="fruit"
              :style="{
                width: size + 'px',
                height: size + 'px',
                background: '#A7E7D4',
                borderRadius: '50%',
                position: 'absolute',
                top: fruit.y * size + 'px',
                left: fruit.x * size + 'px',
              }"
            ></div>
            <div class="startGame" role="button">
              <svg
                width="113"
                height="39"
                viewBox="0 0 113 39"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="0.654297"
                  y="0.369507"
                  width="112"
                  height="38"
                  rx="8"
                  fill="#FEA55F"
                />
                <path
                  d="M18.629 23.4735C19.1657 23.4735 19.588 23.3755 19.896 23.1795C20.2087 22.9835 20.365 22.7175 20.365 22.3815C20.365 22.1668 20.323 21.9825 20.239 21.8285C20.1597 21.6745 19.9917 21.5345 19.735 21.4085C19.483 21.2825 19.1003 21.1542 18.587 21.0235C18.0877 20.8975 17.6513 20.7505 17.278 20.5825C16.9047 20.4145 16.6153 20.1952 16.41 19.9245C16.2093 19.6538 16.109 19.3038 16.109 18.8745C16.109 18.4545 16.2257 18.0905 16.459 17.7825C16.697 17.4745 17.0307 17.2365 17.46 17.0685C17.894 16.9005 18.398 16.8165 18.972 16.8165C19.5787 16.8165 20.106 16.8982 20.554 17.0615C21.0067 17.2202 21.3893 17.4162 21.702 17.6495L21.128 18.5245C20.8433 18.3332 20.5307 18.1768 20.19 18.0555C19.854 17.9342 19.4573 17.8735 19 17.8735C18.454 17.8735 18.0643 17.9575 17.831 18.1255C17.6023 18.2888 17.488 18.5058 17.488 18.7765C17.488 18.9772 17.544 19.1452 17.656 19.2805C17.7727 19.4112 17.971 19.5325 18.251 19.6445C18.531 19.7565 18.9183 19.8802 19.413 20.0155C19.8937 20.1462 20.3137 20.3002 20.673 20.4775C21.0323 20.6548 21.31 20.8882 21.506 21.1775C21.7067 21.4622 21.807 21.8378 21.807 22.3045C21.807 22.8318 21.6553 23.2612 21.352 23.5925C21.0487 23.9192 20.6543 24.1595 20.169 24.3135C19.6883 24.4675 19.175 24.5445 18.629 24.5445C17.957 24.5445 17.3783 24.4465 16.893 24.2505C16.4123 24.0545 16.0087 23.8142 15.682 23.5295L16.424 22.6755C16.7133 22.9135 17.0447 23.1072 17.418 23.2565C17.7913 23.4012 18.195 23.4735 18.629 23.4735ZM30.4325 23.9915C30.1712 24.1595 29.8562 24.2925 29.4875 24.3905C29.1188 24.4932 28.7502 24.5445 28.3815 24.5445C27.5602 24.5445 26.9302 24.3298 26.4915 23.9005C26.0575 23.4712 25.8405 22.9135 25.8405 22.2275V17.9995H24.1675V16.9915H25.8405V15.3255L27.1845 15.1645V16.9915H29.7045L29.5505 17.9995H27.1845V22.2135C27.1845 22.6195 27.2872 22.9252 27.4925 23.1305C27.7025 23.3358 28.0502 23.4385 28.5355 23.4385C28.8108 23.4385 29.0628 23.4058 29.2915 23.3405C29.5202 23.2752 29.7325 23.1912 29.9285 23.0885L30.4325 23.9915ZM38.274 22.6755C38.274 22.9695 38.3207 23.1842 38.414 23.3195C38.5074 23.4502 38.6544 23.5482 38.855 23.6135L38.54 24.5375C38.204 24.4955 37.9124 24.3952 37.665 24.2365C37.4177 24.0778 37.2334 23.8352 37.112 23.5085C36.846 23.8492 36.51 24.1082 36.104 24.2855C35.698 24.4582 35.257 24.5445 34.781 24.5445C34.039 24.5445 33.4534 24.3345 33.024 23.9145C32.5947 23.4945 32.38 22.9415 32.38 22.2555C32.38 21.4855 32.6787 20.8952 33.276 20.4845C33.878 20.0738 34.7414 19.8685 35.866 19.8685H36.937V19.3085C36.937 18.7998 36.7854 18.4382 36.482 18.2235C36.1834 18.0088 35.7657 17.9015 35.229 17.9015C34.9864 17.9015 34.697 17.9318 34.361 17.9925C34.025 18.0532 33.668 18.1488 33.29 18.2795L32.947 17.2995C33.4044 17.1268 33.8407 17.0032 34.256 16.9285C34.676 16.8538 35.068 16.8165 35.432 16.8165C36.384 16.8165 37.0957 17.0335 37.567 17.4675C38.0384 17.8968 38.274 18.4872 38.274 19.2385V22.6755ZM35.159 23.5365C35.5044 23.5365 35.8357 23.4478 36.153 23.2705C36.4704 23.0932 36.7317 22.8458 36.937 22.5285V20.7435H35.957C35.1777 20.7435 34.6247 20.8765 34.298 21.1425C33.9714 21.4038 33.808 21.7632 33.808 22.2205C33.808 22.6498 33.92 22.9765 34.144 23.2005C34.368 23.4245 34.7064 23.5365 35.159 23.5365ZM41.2996 24.3695V23.3755H42.4196V17.9855H41.2996V16.9915H43.4486L43.6936 18.7205C43.9736 18.1092 44.3166 17.6402 44.7226 17.3135C45.1332 16.9822 45.6652 16.8165 46.3186 16.8165C46.5332 16.8165 46.7222 16.8328 46.8856 16.8655C47.0536 16.8982 47.2239 16.9402 47.3966 16.9915L46.9976 18.1675C46.8436 18.1208 46.7036 18.0882 46.5776 18.0695C46.4516 18.0508 46.3069 18.0415 46.1436 18.0415C45.5882 18.0415 45.1122 18.2422 44.7156 18.6435C44.3189 19.0448 44.0016 19.6352 43.7636 20.4145V23.3755H45.2616V24.3695H41.2996ZM46.1506 19.5815V17.8875L46.3046 16.9915H47.3966L47.1866 19.5815H46.1506ZM55.6161 23.9915C55.3548 24.1595 55.0398 24.2925 54.6711 24.3905C54.3024 24.4932 53.9338 24.5445 53.5651 24.5445C52.7438 24.5445 52.1138 24.3298 51.6751 23.9005C51.2411 23.4712 51.0241 22.9135 51.0241 22.2275V17.9995H49.3511V16.9915H51.0241V15.3255L52.3681 15.1645V16.9915H54.8881L54.7341 17.9995H52.3681V22.2135C52.3681 22.6195 52.4708 22.9252 52.6761 23.1305C52.8861 23.3358 53.2338 23.4385 53.7191 23.4385C53.9944 23.4385 54.2464 23.4058 54.4751 23.3405C54.7038 23.2752 54.9161 23.1912 55.1121 23.0885L55.6161 23.9915ZM58.0396 21.1145V19.9805H63.7236V21.1145H58.0396ZM72.5032 16.1375L72.8952 17.3275C72.5872 17.4255 72.2558 17.4885 71.9012 17.5165C71.5512 17.5445 71.1638 17.5585 70.7392 17.5585C71.1732 17.7545 71.4998 18.0065 71.7192 18.3145C71.9385 18.6225 72.0482 18.9912 72.0482 19.4205C72.0482 19.9058 71.9338 20.3375 71.7052 20.7155C71.4812 21.0935 71.1568 21.3898 70.7322 21.6045C70.3122 21.8192 69.8058 21.9265 69.2132 21.9265C68.9798 21.9265 68.7815 21.9172 68.6182 21.8985C68.4595 21.8752 68.3032 21.8402 68.1492 21.7935C68.0465 21.8635 67.9602 21.9592 67.8902 22.0805C67.8248 22.2018 67.7922 22.3302 67.7922 22.4655C67.7922 22.6288 67.8575 22.7688 67.9882 22.8855C68.1188 22.9975 68.3732 23.0535 68.7512 23.0535H70.0602C70.5688 23.0535 71.0215 23.1422 71.4182 23.3195C71.8195 23.4968 72.1345 23.7372 72.3632 24.0405C72.5918 24.3438 72.7062 24.6892 72.7062 25.0765C72.7062 25.8092 72.3935 26.3715 71.7682 26.7635C71.1428 27.1602 70.2562 27.3585 69.1082 27.3585C68.2962 27.3585 67.6568 27.2745 67.1902 27.1065C66.7282 26.9385 66.3992 26.6888 66.2032 26.3575C66.0118 26.0262 65.9162 25.6108 65.9162 25.1115H67.1272C67.1272 25.3868 67.1808 25.6132 67.2882 25.7905C67.3955 25.9678 67.5915 26.1008 67.8762 26.1895C68.1608 26.2782 68.5715 26.3225 69.1082 26.3225C69.6402 26.3225 70.0695 26.2782 70.3962 26.1895C70.7228 26.1008 70.9632 25.9702 71.1172 25.7975C71.2712 25.6248 71.3482 25.4148 71.3482 25.1675C71.3482 24.8408 71.2012 24.5912 70.9072 24.4185C70.6132 24.2458 70.2375 24.1595 69.7802 24.1595H68.4852C67.8225 24.1595 67.3348 24.0195 67.0222 23.7395C66.7142 23.4548 66.5602 23.1282 66.5602 22.7595C66.5602 22.5168 66.6278 22.2812 66.7632 22.0525C66.9032 21.8238 67.1062 21.6232 67.3722 21.4505C66.9428 21.2218 66.6255 20.9418 66.4202 20.6105C66.2195 20.2792 66.1192 19.8755 66.1192 19.3995C66.1192 18.8908 66.2452 18.4428 66.4972 18.0555C66.7538 17.6682 67.1085 17.3648 67.5612 17.1455C68.0138 16.9262 68.5342 16.8165 69.1222 16.8165C69.7335 16.8165 70.2328 16.7885 70.6202 16.7325C71.0122 16.6718 71.3505 16.5925 71.6352 16.4945C71.9245 16.3918 72.2138 16.2728 72.5032 16.1375ZM69.1292 17.7685C68.5785 17.7685 68.1678 17.9225 67.8972 18.2305C67.6265 18.5338 67.4912 18.9235 67.4912 19.3995C67.4912 19.8802 67.6288 20.2745 67.9042 20.5825C68.1795 20.8858 68.5972 21.0375 69.1572 21.0375C69.6518 21.0375 70.0298 20.8952 70.2912 20.6105C70.5525 20.3212 70.6832 19.9128 70.6832 19.3855C70.6832 18.8535 70.5525 18.4522 70.2912 18.1815C70.0298 17.9062 69.6425 17.7685 69.1292 17.7685ZM80.2467 22.6755C80.2467 22.9695 80.2934 23.1842 80.3867 23.3195C80.48 23.4502 80.627 23.5482 80.8277 23.6135L80.5127 24.5375C80.1767 24.4955 79.885 24.3952 79.6377 24.2365C79.3904 24.0778 79.206 23.8352 79.0847 23.5085C78.8187 23.8492 78.4827 24.1082 78.0767 24.2855C77.6707 24.4582 77.2297 24.5445 76.7537 24.5445C76.0117 24.5445 75.426 24.3345 74.9967 23.9145C74.5674 23.4945 74.3527 22.9415 74.3527 22.2555C74.3527 21.4855 74.6514 20.8952 75.2487 20.4845C75.8507 20.0738 76.714 19.8685 77.8387 19.8685H78.9097V19.3085C78.9097 18.7998 78.758 18.4382 78.4547 18.2235C78.156 18.0088 77.7384 17.9015 77.2017 17.9015C76.959 17.9015 76.6697 17.9318 76.3337 17.9925C75.9977 18.0532 75.6407 18.1488 75.2627 18.2795L74.9197 17.2995C75.377 17.1268 75.8134 17.0032 76.2287 16.9285C76.6487 16.8538 77.0407 16.8165 77.4047 16.8165C78.3567 16.8165 79.0684 17.0335 79.5397 17.4675C80.011 17.8968 80.2467 18.4872 80.2467 19.2385V22.6755ZM77.1317 23.5365C77.477 23.5365 77.8084 23.4478 78.1257 23.2705C78.443 23.0932 78.7044 22.8458 78.9097 22.5285V20.7435H77.9297C77.1504 20.7435 76.5974 20.8765 76.2707 21.1425C75.944 21.4038 75.7807 21.7632 75.7807 22.2205C75.7807 22.6498 75.8927 22.9765 76.1167 23.2005C76.3407 23.4245 76.679 23.5365 77.1317 23.5365ZM88.1652 16.8165C88.4219 16.8165 88.6599 16.8725 88.8792 16.9845C89.0986 17.0965 89.2759 17.3018 89.4112 17.6005C89.5466 17.8945 89.6142 18.3215 89.6142 18.8815V24.3695H88.3892V19.0775C88.3892 18.6482 88.3612 18.3402 88.3052 18.1535C88.2539 17.9622 88.1046 17.8665 87.8572 17.8665C87.6519 17.8665 87.4489 17.9295 87.2482 18.0555C87.0476 18.1815 86.8492 18.3915 86.6532 18.6855V24.3695H85.4772V19.0775C85.4772 18.6482 85.4492 18.3402 85.3932 18.1535C85.3419 17.9622 85.1926 17.8665 84.9452 17.8665C84.7352 17.8665 84.5299 17.9295 84.3292 18.0555C84.1332 18.1815 83.9372 18.3915 83.7412 18.6855V24.3695H82.5162V16.9915H83.5522L83.6362 17.8175C83.8416 17.5282 84.0679 17.2902 84.3152 17.1035C84.5672 16.9122 84.8729 16.8165 85.2322 16.8165C85.5122 16.8165 85.7712 16.8842 86.0092 17.0195C86.2519 17.1548 86.4292 17.4068 86.5412 17.7755C86.7419 17.4908 86.9706 17.2598 87.2272 17.0825C87.4839 16.9052 87.7966 16.8165 88.1652 16.8165ZM92.6818 21.1355C92.7098 21.6768 92.8194 22.1202 93.0108 22.4655C93.2021 22.8062 93.4518 23.0582 93.7598 23.2215C94.0678 23.3802 94.4084 23.4595 94.7818 23.4595C95.1504 23.4595 95.4888 23.4035 95.7968 23.2915C96.1048 23.1795 96.4174 23.0162 96.7348 22.8015L97.3438 23.6485C96.9984 23.9238 96.5994 24.1432 96.1468 24.3065C95.6941 24.4652 95.2251 24.5445 94.7398 24.5445C94.0024 24.5445 93.3748 24.3835 92.8568 24.0615C92.3434 23.7348 91.9514 23.2822 91.6808 22.7035C91.4148 22.1248 91.2818 21.4528 91.2818 20.6875C91.2818 19.9455 91.4148 19.2828 91.6808 18.6995C91.9514 18.1162 92.3318 17.6565 92.8218 17.3205C93.3118 16.9845 93.8951 16.8165 94.5718 16.8165C95.2064 16.8165 95.7524 16.9635 96.2098 17.2575C96.6718 17.5515 97.0264 17.9715 97.2738 18.5175C97.5211 19.0588 97.6448 19.7075 97.6448 20.4635C97.6448 20.5895 97.6424 20.7108 97.6378 20.8275C97.6331 20.9442 97.6261 21.0468 97.6168 21.1355H92.6818ZM94.5858 17.8665C94.0631 17.8665 93.6268 18.0532 93.2768 18.4265C92.9314 18.7998 92.7331 19.3762 92.6818 20.1555H96.3498C96.3358 19.4088 96.1724 18.8418 95.8598 18.4545C95.5518 18.0625 95.1271 17.8665 94.5858 17.8665Z"
                  fill="#01080E"
                />
              </svg>
            </div>
          </v-col>
          <v-col cols="5" class="controller">
            <v-row dense class="controllersRow">
              <v-col cols="12">
                <div class="mt-3 ml-5">
                  <p class="mb-0">// use keyboard</p>
                  <p class="mb-0">// arrows to play</p>
                </div>
                <v-row class="controllersBtns mt-2">
                  <v-col cols="12">
                    <svg
                      width="157"
                      height="64"
                      viewBox="0 0 157 64"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <rect
                        x="54.4609"
                        y="1.46356"
                        width="48.0787"
                        height="27.6912"
                        rx="7.5"
                        fill="#010C15"
                        stroke="#1E2D3D"
                      />
                      <path
                        d="M78.5 12.3091L82.75 18.3091H74.25L78.5 12.3091Z"
                        fill="white"
                      />
                      <rect
                        x="102.539"
                        y="62.6547"
                        width="48.0787"
                        height="27.6912"
                        rx="7.5"
                        transform="rotate(-180 102.539 62.6547)"
                        fill="#010C15"
                        stroke="#1E2D3D"
                      />
                      <path
                        d="M78.5 51.8091L74.25 45.8091L82.75 45.8091L78.5 51.8091Z"
                        fill="white"
                      />
                      <rect
                        x="156"
                        y="62.6547"
                        width="48.0787"
                        height="27.6912"
                        rx="7.5"
                        transform="rotate(-180 156 62.6547)"
                        fill="#010C15"
                        stroke="#1E2D3D"
                      />
                      <path
                        d="M134.96 48.8091L128.96 53.0592L128.96 44.5591L134.96 48.8091Z"
                        fill="white"
                      />
                      <rect
                        x="49.0786"
                        y="62.6547"
                        width="48.0787"
                        height="27.6912"
                        rx="7.5"
                        transform="rotate(-180 49.0786 62.6547)"
                        fill="#010C15"
                        stroke="#1E2D3D"
                      />
                      <path
                        d="M22.0391 48.8091L28.0391 44.5591L28.0391 53.0592L22.0391 48.8091Z"
                        fill="white"
                      />
                    </svg>
                  </v-col>
                </v-row>
              </v-col>
            </v-row>
            <v-row>
              <v-col cols="12" class="mt-3 ml-5">
                <p>// food left</p>
                <div>
                  <!-- SVG de vida perdida -->
                  <svg
                    width="22"
                    height="21"
                    viewBox="0 0 22 21"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle
                      opacity="0.1"
                      cx="10.8456"
                      cy="10.5377"
                      r="10.3456"
                      fill="#43D9AD"
                    />
                    <circle
                      opacity="0.2"
                      cx="10.8456"
                      cy="10.5377"
                      r="7.34558"
                      fill="#43D9AD"
                    />
                    <circle cx="10.8457" cy="10.5377" r="4" fill="#43D9AD" />
                  </svg>
                  <!-- SVG de "vida" -->
                  <svg
                    width="22"
                    height="22"
                    viewBox="0 0 22 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g opacity="0.3">
                      <circle
                        opacity="0.1"
                        cx="11.2303"
                        cy="11.0379"
                        r="10.3456"
                        fill="#43D9AD"
                      />
                      <circle
                        opacity="0.2"
                        cx="11.2303"
                        cy="11.0379"
                        r="7.34558"
                        fill="#43D9AD"
                      />
                      <circle cx="11.2305" cy="11.0379" r="4" fill="#43D9AD" />
                    </g>
                  </svg>
                </div>
              </v-col>
            </v-row>
          </v-col>
        </v-row>
      </v-card-text>
      <v-footer absolute color="transparent" class="mb-3">
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="7.23047"
            cy="7.43109"
            r="6.5"
            fill="url(#paint0_radial_64_1307)"
          />
          <path
            d="M4.46094 9.72577L9.99951 5.13638M4.46094 5.13638L9.99951 9.72577"
            stroke="#093430"
          />
          <defs>
            <radialGradient
              id="paint0_radial_64_1307"
              cx="0"
              cy="0"
              r="1"
              gradientUnits="userSpaceOnUse"
              gradientTransform="translate(7.23047 4.43109) rotate(90) scale(9.5)"
            >
              <stop offset="0.151042" stop-color="#164C51" />
              <stop offset="1" stop-color="#0D3A40" />
            </radialGradient>
          </defs>
        </svg>

        <v-spacer></v-spacer>
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="7.23047"
            cy="7.43109"
            r="6.5"
            fill="url(#paint0_radial_64_1307)"
          />
          <path
            d="M4.46094 9.72577L9.99951 5.13638M4.46094 5.13638L9.99951 9.72577"
            stroke="#093430"
          />
          <defs>
            <radialGradient
              id="paint0_radial_64_1307"
              cx="0"
              cy="0"
              r="1"
              gradientUnits="userSpaceOnUse"
              gradientTransform="translate(7.23047 4.43109) rotate(90) scale(9.5)"
            >
              <stop offset="0.151042" stop-color="#164C51" />
              <stop offset="1" stop-color="#0D3A40" />
            </radialGradient>
          </defs>
        </svg>
      </v-footer>
    </v-card>
  </v-container>
</template>
<script>
export default {
  data() {
    return {
      lines: 22,
      columns: 22,
      size: 10,
      snaker: null,
      time: 1000 / 5,
      direction: "right",
      fruit: null,
    };
  },
  mounted() {
    this.reset();
    window.addEventListener("keydown", (event) => {
      if (event.which == 38 && this.direction != 'down') this.direction = "up";
      if (event.which == 40 && this.direction != 'up') this.direction = "down";
      if (event.which == 37 && this.direction != 'right') this.direction = "left";
      if (event.which == 39 && this.direction != 'left') this.direction = "right";
    });

    setInterval(() => {
      let x = this.snaker[0].x;
      let y = this.snaker[0].y;

      if (this.direction == "right") {
        x = x + 1 > this.columns ? 1 : x + 1;
      }
      if (this.direction == "left") {
        x = x - 1 < 1 ? this.columns : x - 1;
      }
      if (this.direction == "down") {
        y = y + 1 > this.lines ? 1 : y + 1;
      }
      if (this.direction == "up") {
        y = y - 1 < 1 ? this.lines : y - 1;
      }

      /* for (block of this.snaker) {
        if (x == block.x && y == block.y) {
          this.reset();
          return;
        }
      } */

      if (x == this.fruit.x && y == this.fruit.y) {
        this.newFruit();
      } else {
        this.snaker.pop();
      }

      this.snaker.unshift({ x, y });
    }, this.time);
  },
  methods: {
    newFruit() {
      let x = Math.floor(Math.random() * this.columns) + 1;
      let y = Math.floor(Math.random() * this.lines) + 1;

      this.fruit = { x, y };
    },
    reset() {
      this.snaker = [
        { x: 2, y: 1 },
        { x: 1, y: 1 },
      ];
      this.newFruit();
      this.direction = "right";
    },
  },
};
</script>
<style lang="sass" scoped>
.v-card
  background: linear-gradient(150.26deg, rgba(23, 85, 83, 0.7) 1.7%, rgba(67, 217, 173, 0.091) 81.82%)
  border: 1px solid #0C1616
  box-shadow: inset 0px 2px 0px rgba(255, 255, 255, 0.3)
  backdrop-filter: blur(32px)
  border-radius: 8px

.row--dense
  justify-content: center

.game
  max-width: 238.69px
  background: rgba(1, 22, 39, 0.84)
  box-shadow: inset 1px 5px 11px rgba(2, 18, 27, 0.71)
  border-radius: 8px
  height: 380px
  margin-top: -4px
  position: relative

.controller
  max-width: 181px


.controllersRow
  border-radius: 8px
  background: rgba(1, 20, 35, 0.19)
  height: 142px

.controllersBtns .col
  display: flex
  justify-content: center
  align-items: center

.startGame
    position: absolute
    bottom: 29px
    left: 25%

p
 font-size: 14px
</style>
